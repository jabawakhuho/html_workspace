<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>취화선물고기</title>
<style>
body{
	margin:0px;
}
#stage{
	width:100%;
	height:700px;
	border:1px solid red;
}

</style>
<script src="../lib/Fish.js"></script>
<script>
var stage;
var fishArr= new Array();

window.addEventListener("load",function(){
	init();
});

function init(){
	stage=document.getElementById("stage");


	stage.addEventListener("mousemove",function(){
		var posX=event.clientX;
		var posY=event.clientY;
		//물고기 생성

		var fish = new Fish(stage,100,20,posX,posY);
		fish.init();
		
		if(fishArr.length >50){
			fishArr.splice(0,1,fish);
		}else{
			fishArr.push(fish);
		}
		

		console.log(fishArr.length);
		for(var i=0; i<fishArr.length;i++){
		//마우스의 좌표를 목표지점으로
		fishArr[i].targetX=event.clientX;
		fishArr[i].targetY=event.clientY;
		}
	});

}

</script>
</head>
<body>
<div id="stage"></div>
</body>
</html>
